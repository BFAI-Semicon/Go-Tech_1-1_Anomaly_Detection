# Evaluating Modern Visual Anomaly Detection Approaches in Semiconductor Manufacturing: A Comparative Study

- **著者**：Manuel Barusco, Francesco Borsatti, Youssef Ben Khalifa, Davide Dalle Pezze, Gian Antonio Susto（イタリア・パドヴァ大学）
- **掲載形態**：プレプリント（arXiv）として2025年5月12日に公開。([arXiv][1])
- **分野**：自動外観検査、半導体製造、視覚異常検知（VAD：Visual Anomaly Detection）

---

## 内容詳細

### 背景と目的

- 半導体製造工場では、ウェーハ加工、金属配線、エッチングなど多数の工程を経てICが作られる。これらの工程では **顕微鏡（特に走査電子顕微鏡 SEM）画像** による自動外観検査（AVI）が重要であり、欠陥の早期発見によって歩留まり改善・設備停止削減・コスト低減が期待される。([arXiv][2])
- これまで多くの研究が「正常＋異常ラベル付き画像を用いた監督学習」ベースで進められてきましたが、異常サンプルの入手やラベル付けが困難という実運用上の壁があります。([arXiv][2])
- これまで多くの研究が「正常＋異常ラベル付き画像を用いた監督学習」ベースで進められてきたが、異常サンプルの入手やラベル付けが困難という実運用上の壁がある。([arXiv][2])
- この論文では、**正常サンプルのみを用いる異常検知（VAD）手法**を、半導体製造分野のSEM画像に対して適用・比較評価することを目的としています。これにより、実用的な検査システム構築のヒントや現在の技術の限界を明らかにしようとしています。
- この論文では、**正常サンプルのみを用いる異常検知（VAD）手法**を、半導体製造分野のSEM画像に対して適用・比較評価することを目的としている。これにより、実用的な検査システム構築のヒントや現在の技術の限界を明らかにしようとしている。

### データセットと手法

- 使用データセット：MIIC (Microscopic Images of Integrated Circuits)。IC金属層を撮影したグレースケールSEM画像から構成され、25,276枚（うち正常25,160枚、異常116枚）、解像度512×512ピクセル。([arXiv][2])
- なぜ重要か：多くのVAD研究では自然画像（たとえば自動車部品、ナッツ、ねじなど）を対象にしており、SEMなど専門的・工業的撮像モードの評価は少ないため、**半導体ドメイン特有のチャレンジ**が存在します。([arXiv][2])
- なぜ重要か：多くのVAD研究では自然画像（たとえば自動車部品、ナッツ、ねじなど）を対象にしており、SEMなど専門的・工業的撮像モードの評価は少ないため、**半導体ドメイン特有のチャレンジ**が存在する。([arXiv][2])
- 比較手法：9つのVAD手法を検証。

  - 特徴ベース（feature-based）手法：Pre-trained ネットワーク等から特徴を抽出 → 正常データの特徴記憶・異常データとの乖離を検知。
  - 再構成ベース（reconstruction-based）手法：正常画像を再構成するモデルを学習 → 再構成誤差が大きい場合を異常と判断。([arXiv][2])
- 評価指標：画像レベル（その画像が異常かどうか）およびピクセルレベル（異常箇所のマスク精度）でF1スコア、ROC-AUCなどを採用。([arXiv][2])

### 主な実験結果

- 画像レベルROC-AUCでは、いくつかの特徴ベース手法が90%以上の性能を示している（例：PatchCore 約93.3%、FastFlow 約97.6%）([arXiv][2])
- 画像レベルF1スコアでは、特徴ベース手法の中で特に CFA が約87.9% と最良を記録。([arXiv][2])
- ピクセルレベル（異常領域の局所化）では、画像レベルで最良だった手法が必ずしも最良ではなく、たとえば別手法（たとえば STFPM）が最良スコアという結果も出ている。([arXiv][2])
- 驚くべきことに、再構成ベース手法（古典的アプローチ）も非常に高い性能を記録しており、画像レベルF1で約91.2%という結果も報告されている。([arXiv][2])

### 考察・示唆

- **ドメインギャップ**：自然写真画像で学習・評価された手法をSEM画像にそのまま適用すると、性能が落ちる可能性があることが示唆されている。特徴抽出器が自然写真とSEMとで大きく異なる“視覚特性”を持つためである。([arXiv][2])
- **再構成ベースの再評価**：データが十分にある（この研究では25K枚以上の正常画像）場合、再構成ベース手法でも優れた性能を示し、特徴ベース手法と肩を並べる可能性があるという点が重要である。([arXiv][2])
- **運用上の実用性・説明可能性**：VAD手法は異常が出た領域の“異常マップ（どのピクセルが原因か）”を出すことが多く、エンジニアや品質保証担当者が“なぜ異常と判定されたか”を確認しやすいため、実工場への適用を想定した観点で有利である。([arXiv][2])

### 限界と今後の課題

- 116枚という異常サンプル数は少なく、異常の“多様性”や未知異常への対応という観点では制限がある。
- SEM画像という非常に専門的なモダリティであるため、世界中の研究が再現できるデータ・手法基盤（公開性・汎用性）をもっと拡充する必要がある。
- 特徴ベース手法をさらに改善するためには、ImageNet等自然画像で学習された特徴抽出器を**SEM用途にファインチューニング**したり、自己教師あり学習 (self-supervised) によるドメイン特化特徴学習を検討すべきと論文は提示している。([arXiv][2])
- 実運用では、異常発生頻度が非常に低く、ラベル付き異常がほとんど存在しないという状況が一般的。そのため“一般化／未見異常対応／真陽性／偽陽性のバランス”という観点でさらなる研究が必要である。

---

## 応用の観点から見たポイント（「半導体製造／異常検知AI」文脈で）

- この論文は **SEM画像の異常検知**という点で、「欠陥検出 in 半導体製造／画像分類／AIモデル構築」という文脈に非常に合致している。
- Normalデータのみから学習するVADアプローチは、製造ラインで「出現頻度が少ない異常」を扱う場面において実運用メリットが大きく、ラベル付き異常データが少ない現場に向けた手法選定の重要なガイドになる。
- さらに、「画像レベル＋ピクセルレベル」での性能差／手法ごとの得意・不得意（検出 vs 局所化）を明示しているため、アプリケーション設計時に「欠陥検出するだけでよいか／どこで欠陥があるかも示したいか」という要件整理のヒントになる。
- また、「再構成ベースでも十分戦える」という点は、モデル選定時に“最新最先端＝特徴ベースしかあり得ない”という先入観を見直すきっかけになり得る。
- 実装時には、論文中のベンチマーク設定（画像解像度、正常訓練枚数、異常テスト枚数、使用手法のハイパーパラメータ等）を参照し、検証時のデータセット規模・画像仕様・ライン要件に合致させて “どの手法から試行するか” を決める良い出発点となる。

---

[1]: https://arxiv.org/abs/2505.07576?utm_source=chatgpt.com "Evaluating Modern Visual Anomaly Detection Approaches in Semiconductor Manufacturing: A Comparative Study"
[2]: https://arxiv.org/pdf/2505.07576?utm_source=chatgpt.com "Evaluating Modern Visual Anomaly Detection Approaches ..."

---

## 使用データセット

はい、MIIC (Microscopic Images of Integrated Circuits) データセットは **入手可能** です。以下にアクセス方法と利用条件を整理します。

---

### ✅ 入手可能性

- データセットの詳細ページが Nanyang Technological University（NTU）によるデータリポジトリ “DR-NTU (Data)” 上に公開されています。([researchdata.ntu.edu.sg][3])
- GitHub 上にも “wenbihan/MIIC-IAD” というリポジトリがあり、データ説明およびダウンロードリンク（あるいはアクセス方法）が記載されています。([GitHub][4])
- データセットには「正常 25,160 枚／異常 116 枚、解像度 512×512 ピクセル」の SEM 画像で構成されている旨が記載されています。([oar.a-star.edu.sg][5])

---

### ⚠ 利用前の注意・条件

- 利用条件として「非商用研究利用のみ（Non-Commercial）」の旨が明記されています。たとえば、GitHub の README に「All data is subject to copyright and may only be used for non-commercial research.」とあります。([GitHub][4])
- ライセンスは NTU のデータページ上で “CC BY-NC 4.0” と記載されています。([researchdata.ntu.edu.sg][3])
- ダウンロードにはアカウント登録や利用申請が必要な場合があります（特にファイルが “Request Access” 状態の場合があるようです）｡([researchdata.ntu.edu.sg][3])

---

### 🔍 ユーザー視点での確認ポイント

- あなたが「商用利用」または「ライン実運用（量産品質管理）用途」でこのデータを使いたい場合、ライセンス制限（非商用）を確認・交渉する必要があります。
- 解像度や画像形式（512×512グレー画像）、異常マスク付き／バウンディングボックス付きといったアノテーション内容も把握できます（READMEに記載あり）。([GitHub][4])
- 自社の製造ラインで撮影している SEM 画像とこのデータセットの画質・条件（撮影装置／金属層／被検部位）とのギャップを検討することが重要です。
- ラベル付き異常が「116枚」と少数であるため、「未知異常」「発生頻度の極めて低い異常」への適用を考える際には注意が必要です。これは論文中でも実験条件の限界として言及されています。([arXiv][6])

---

[3]: https://researchdata.ntu.edu.sg/dataset.xhtml?persistentId=doi%3A10.21979%2FN9%2FWBLTFI&utm_source=chatgpt.com "MIIC (Microscopic Images of Integrated Circuits) Dataset for ..."
[4]: https://github.com/wenbihan/MIIC-IAD?utm_source=chatgpt.com "MIIC Dataset for Image Anomaly Detection - GitHub"
[5]: https://oar.a-star.edu.sg/storage/5/5gqr8v86x3/icip-2021-sagan-final.pdf?utm_source=chatgpt.com "[PDF] joint anomaly detection and inpainting for microscopy images"
[6]: https://arxiv.org/html/2505.07576v1?utm_source=chatgpt.com "Evaluating Modern Visual Anomaly Detection Approaches in ... - arXiv"
